<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="keyword" content="" />
    <meta name="author" content="flexilecode" />
    <!--! The above 6 meta tags *must* come first in the head; any other head content must come *after* these tags !-->
    <!--! BEGIN: Apps Title-->
    <title>TherapyPM Voice AI</title>
    <!--! END:  Apps Title-->
    <!--! BEGIN: Favicon-->
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="assets/images/favicon.ico"
    />
    <!--! END: Favicon-->
    <!--! BEGIN: Bootstrap CSS-->
    <link
      rel="stylesheet"
      type="text/css"
      href="assets/css/bootstrap.min.css"
    />
    <!--! END: Bootstrap CSS-->
    <!--! BEGIN: Vendors CSS-->
    <link
      rel="stylesheet"
      type="text/css"
      href="assets/vendors/css/vendors.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="assets/vendors/css/daterangepicker.min.css"
    />
    <!--! END: Vendors CSS-->
    <!--! BEGIN: Custom CSS-->
    <link rel="stylesheet" type="text/css" href="assets/css/theme.min.css" />
    <link rel="stylesheet" href="assets/css/custom.css" />
    <!--! END: Custom CSS-->
    <!--! HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries !-->
    <!--! WARNING: Respond.js doesn"t work if you view the page via file: !-->
    <!--[if lt IE 9]>
      <script src="https:oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https:oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style>
      .top-bar {
        background: white;
        border-bottom: 1px solid #dee2e6;
        position: sticky;
        top: 0;
        z-index: 100;
      }

      .badge-outline {
        background: white;
        border: 2px solid #dee2e6;
        color: #495057;
        font-weight: 600;
      }

      .ai-banner {
        background: linear-gradient(135deg, #f3e8ff 0%, #e0f2fe 100%);
        border: 2px solid #c4b5fd;
        border-radius: 12px;
      }

      .question-card {
        border: none;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        border-radius: 12px;
      }

      .question-item {
        border-bottom: 1px solid #e9ecef;
        transition: all 0.2s;
      }

      .question-item:hover {
        background: #f8f9fa;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      }

      .question-item.level-0 {
        background: white;
      }

      .question-item.level-1 {
        background: #f3e8ff;
        border-left: 4px solid #a78bfa;
      }

      .question-item.level-2 {
        background: #dbeafe;
        border-left: 4px solid #60a5fa;
      }

      .question-item.level-3 {
        background: #f3f4f6;
        border-left: 4px solid #9ca3af;
      }

      .condition-badge {
        font-size: 0.75rem;
        padding: 0.25rem 0.625rem;
        border-radius: 6px;
        font-weight: 600;
      }

      .type-icon {
        width: 24px;
        height: 24px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 4px;
        font-size: 0.875rem;
      }

      .help-text-box {
        background: #eff6ff;
        border: 2px solid #93c5fd;
        border-radius: 8px;
        padding: 0.75rem;
      }

      .ai-suggestion-box {
        background: linear-gradient(135deg, #f3e8ff 0%, transparent 100%);
        border: 2px solid #c4b5fd;
        border-radius: 8px;
        padding: 0.75rem;
      }

      .option-item {
        background: white;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        transition: border-color 0.2s;
      }

      .option-item:hover {
        border-color: #cbd5e1;
      }

      .btn-icon {
        width: 32px;
        height: 32px;
        padding: 0;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      .btn-icon-sm {
        width: 28px;
        height: 28px;
        padding: 0;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      .stat-card {
        border: none;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        border-radius: 12px;
        transition: transform 0.2s;
      }

      .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
      }

      .tab-btn {
        padding: 0.5rem 1rem;
        border: none;
        background: transparent;
        color: #6c757d;
        font-weight: 600;
        transition: all 0.2s;
        border-radius: 8px;
      }

      .tab-btn.active {
        background: #0d6efd;
        color: white;
      }

      .tab-btn:hover:not(.active) {
        background: #e9ecef;
        color: #495057;
      }

      .keyboard-shortcuts {
        background: #e7f1ff;
        border-bottom: 1px solid #93c5fd;
      }

      kbd {
        background: white;
        border: 1px solid #dee2e6;
        border-radius: 4px;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
        font-family: monospace;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .grip-handle {
        cursor: move;
        color: #adb5bd;
      }

      .grip-handle:hover {
        color: #6c757d;
      }

      .collapse-btn {
        width: 24px;
        height: 24px;
        padding: 0;
        border: none;
        background: transparent;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
      }

      .collapse-btn:hover {
        background: #e9ecef;
        border-radius: 4px;
      }

      .variable-tag {
        color: #0d6efd;
        cursor: help;
      }

      .variable-tag:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <!--! ================================================================ !-->
    <!--! [Start] Navigation Manu !-->
    <!--! ================================================================ !-->
    <nav class="nxl-navigation">
      <div class="navbar-wrapper">
        <div class="m-header">
          <a href="index.html" class="b-brand">
            <!-- ========   change your logo hear   ============ -->
            <img
              src="assets/images/TherapyPMNewLogo.png"
              alt=""
              class="logo logo-lg"
              style="width: 200px"
            />
            <img
              src="assets/images/TherapyPM Favicon new.png"
              alt=""
              class="logo logo-sm"
            />
          </a>
        </div>
        <div class="navbar-content">
          <ul class="nxl-navbar">
            <li class="nxl-item nxl-caption">
              <label>Navigation</label>
            </li>
            <li class="nxl-item nxl-hasmenu">
              <a href="javascript:void(0);" class="nxl-link">
                <span class="nxl-micon"><i class="feather-airplay"></i></span>
                <span class="nxl-mtext">Voice AI</span
                ><span class="nxl-arrow"
                  ><i class="feather-chevron-right"></i
                ></span>
              </a>
              <ul class="nxl-submenu">
                <li class="nxl-item">
                  <a class="nxl-link" href="index.html"
                    >Outbound Call Results</a
                  >
                </li>
                <li class="nxl-item">
                  <a class="nxl-link" href="script.html">Scripts</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!--! ================================================================ !-->
    <!--! [End]  Navigation Manu !-->
    <!--! ================================================================ !-->
    <!--! ================================================================ !-->
    <!--! [Start] Header !-->
    <!--! ================================================================ !-->
    <header class="nxl-header">
      <div class="header-wrapper">
        <!--! [Start] Header Left !-->
        <div class="header-left d-flex align-items-center gap-4">
          <!--! [Start] nxl-head-mobile-toggler !-->
          <a
            href="javascript:void(0);"
            class="nxl-head-mobile-toggler"
            id="mobile-collapse"
          >
            <div class="hamburger hamburger--arrowturn">
              <div class="hamburger-box">
                <div class="hamburger-inner"></div>
              </div>
            </div>
          </a>
          <!--! [Start] nxl-head-mobile-toggler !-->
          <!--! [Start] nxl-navigation-toggle !-->
          <div class="nxl-navigation-toggle">
            <a href="javascript:void(0);" id="menu-mini-button">
              <i class="feather-align-left"></i>
            </a>
            <a
              href="javascript:void(0);"
              id="menu-expend-button"
              style="display: none"
            >
              <i class="feather-arrow-right"></i>
            </a>
          </div>
          <!--! [End] nxl-navigation-toggle !-->
          <!--! [Start] nxl-lavel-mega-menu-toggle !-->
          <div class="nxl-lavel-mega-menu-toggle d-flex d-lg-none">
            <a href="javascript:void(0);" id="nxl-lavel-mega-menu-open">
              <i class="feather-align-left"></i>
            </a>
          </div>
          <!--! [End] nxl-lavel-mega-menu-toggle !-->
          <!--! [Start] nxl-lavel-mega-menu !-->
          <div class="nxl-drp-link nxl-lavel-mega-menu">
            <div class="nxl-lavel-mega-menu-toggle d-flex d-lg-none">
              <a href="javascript:void(0)" id="nxl-lavel-mega-menu-hide">
                <i class="feather-arrow-left me-2"></i>
                <span>Back</span>
              </a>
            </div>
          </div>
          <!--! [End] nxl-lavel-mega-menu !-->
        </div>
        <!--! [End] Header Left !-->
        <!--! [Start] Header Right !-->
        <div class="header-right ms-auto">
          <div class="d-flex align-items-center">
            <div class="nxl-h-item d-none d-sm-flex">
              <div class="full-screen-switcher">
                <a
                  href="javascript:void(0);"
                  class="nxl-head-link me-0"
                  onclick="$('body').fullScreenHelper('toggle')"
                >
                  <i class="feather-maximize maximize"></i>
                  <i class="feather-minimize minimize"></i>
                </a>
              </div>
            </div>
            <div class="nxl-h-item dark-light-theme">
              <a
                href="javascript:void(0);"
                class="nxl-head-link me-0 dark-button"
              >
                <i class="feather-moon"></i>
              </a>
              <a
                href="javascript:void(0);"
                class="nxl-head-link me-0 light-button"
                style="display: none"
              >
                <i class="feather-sun"></i>
              </a>
            </div>
            <div class="dropdown nxl-h-item">
              <a
                href="javascript:void(0);"
                class="nxl-head-link me-0"
                data-bs-toggle="dropdown"
                role="button"
                data-bs-auto-close="outside"
              >
                <i class="feather-clock"></i>
                <span class="badge bg-success nxl-h-badge">2</span>
              </a>
              <div
                class="dropdown-menu dropdown-menu-end nxl-h-dropdown nxl-timesheets-menu"
              >
                <div
                  class="d-flex justify-content-between align-items-center timesheets-head"
                >
                  <h6 class="fw-bold text-dark mb-0">Timesheets</h6>
                  <a
                    href="javascript:void(0);"
                    class="fs-11 text-success text-end ms-auto"
                    data-bs-toggle="tooltip"
                    title="Upcomming Timers"
                  >
                    <i class="feather-clock"></i>
                    <span>3 Upcomming</span>
                  </a>
                </div>
                <div
                  class="d-flex justify-content-between align-items-center flex-column timesheets-body"
                >
                  <i class="feather-clock fs-1 mb-4"></i>
                  <p class="text-muted">No started timers found yes!</p>
                  <a href="javascript:void(0);" class="btn btn-sm btn-primary"
                    >Started Timer</a
                  >
                </div>
                <div class="text-center timesheets-footer">
                  <a
                    href="javascript:void(0);"
                    class="fs-13 fw-semibold text-dark"
                    >Alls Timesheets</a
                  >
                </div>
              </div>
            </div>
            <div class="dropdown nxl-h-item">
              <a
                class="nxl-head-link me-3"
                data-bs-toggle="dropdown"
                href="#"
                role="button"
                data-bs-auto-close="outside"
              >
                <i class="feather-bell"></i>
                <span class="badge bg-danger nxl-h-badge">3</span>
              </a>
              <div
                class="dropdown-menu dropdown-menu-end nxl-h-dropdown nxl-notifications-menu"
              >
                <div
                  class="d-flex justify-content-between align-items-center notifications-head"
                >
                  <h6 class="fw-bold text-dark mb-0">Notifications</h6>
                  <a
                    href="javascript:void(0);"
                    class="fs-11 text-success text-end ms-auto"
                    data-bs-toggle="tooltip"
                    title="Make as Read"
                  >
                    <i class="feather-check"></i>
                    <span>Make as Read</span>
                  </a>
                </div>
                <div class="notifications-item">
                  <img
                    src="assets/images/avatar/2.png"
                    alt=""
                    class="rounded me-3 border"
                  />
                  <div class="notifications-desc">
                    <a
                      href="javascript:void(0);"
                      class="font-body text-truncate-2-line"
                    >
                      <span class="fw-semibold text-dark">Malanie Hanvey</span>
                      We should talk about that at lunch!</a
                    >
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div
                        class="notifications-date text-muted border-bottom border-bottom-dashed"
                      >
                        2 minutes ago
                      </div>
                      <div class="d-flex align-items-center float-end gap-2">
                        <a
                          href="javascript:void(0);"
                          class="d-block wd-8 ht-8 rounded-circle bg-gray-300"
                          data-bs-toggle="tooltip"
                          title="Make as Read"
                        ></a>
                        <a
                          href="javascript:void(0);"
                          class="text-danger"
                          data-bs-toggle="tooltip"
                          title="Remove"
                        >
                          <i class="feather-x fs-12"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="notifications-item">
                  <img
                    src="assets/images/avatar/3.png"
                    alt=""
                    class="rounded me-3 border"
                  />
                  <div class="notifications-desc">
                    <a
                      href="javascript:void(0);"
                      class="font-body text-truncate-2-line"
                    >
                      <span class="fw-semibold text-dark">Valentine Maton</span>
                      You can download the latest invoices now.</a
                    >
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div
                        class="notifications-date text-muted border-bottom border-bottom-dashed"
                      >
                        36 minutes ago
                      </div>
                      <div class="d-flex align-items-center float-end gap-2">
                        <a
                          href="javascript:void(0);"
                          class="d-block wd-8 ht-8 rounded-circle bg-gray-300"
                          data-bs-toggle="tooltip"
                          title="Make as Read"
                        ></a>
                        <a
                          href="javascript:void(0);"
                          class="text-danger"
                          data-bs-toggle="tooltip"
                          title="Remove"
                        >
                          <i class="feather-x fs-12"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="notifications-item">
                  <img
                    src="assets/images/avatar/4.png"
                    alt=""
                    class="rounded me-3 border"
                  />
                  <div class="notifications-desc">
                    <a
                      href="javascript:void(0);"
                      class="font-body text-truncate-2-line"
                    >
                      <span class="fw-semibold text-dark">Archie Cantones</span>
                      Don't forget to pickup Jeremy after school!</a
                    >
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div
                        class="notifications-date text-muted border-bottom border-bottom-dashed"
                      >
                        53 minutes ago
                      </div>
                      <div class="d-flex align-items-center float-end gap-2">
                        <a
                          href="javascript:void(0);"
                          class="d-block wd-8 ht-8 rounded-circle bg-gray-300"
                          data-bs-toggle="tooltip"
                          title="Make as Read"
                        ></a>
                        <a
                          href="javascript:void(0);"
                          class="text-danger"
                          data-bs-toggle="tooltip"
                          title="Remove"
                        >
                          <i class="feather-x fs-12"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="text-center notifications-footer">
                  <a
                    href="javascript:void(0);"
                    class="fs-13 fw-semibold text-dark"
                    >Alls Notifications</a
                  >
                </div>
              </div>
            </div>
            <div class="dropdown nxl-h-item">
              <a
                href="javascript:void(0);"
                data-bs-toggle="dropdown"
                role="button"
                data-bs-auto-close="outside"
              >
                <img
                  src="assets/images/avatar/1.png"
                  alt="user-image"
                  class="img-fluid user-avtar me-0"
                />
              </a>
              <div
                class="dropdown-menu dropdown-menu-end nxl-h-dropdown nxl-user-dropdown"
              >
                <div class="dropdown-header">
                  <div class="d-flex align-items-center">
                    <img
                      src="assets/images/avatar/1.png"
                      alt="user-image"
                      class="img-fluid user-avtar"
                    />
                    <div>
                      <h6 class="text-dark mb-0">
                        Alexandra Della
                        <span class="badge bg-soft-success text-success ms-1"
                          >PRO</span
                        >
                      </h6>
                      <span class="fs-12 fw-medium text-muted"
                        >alex@example.com</span
                      >
                    </div>
                  </div>
                </div>
                <div class="dropdown">
                  <a
                    href="javascript:void(0);"
                    class="dropdown-item"
                    data-bs-toggle="dropdown"
                  >
                    <span class="hstack">
                      <i
                        class="wd-10 ht-10 border border-2 border-gray-1 bg-success rounded-circle me-2"
                      ></i>
                      <span>Active</span>
                    </span>
                    <i class="feather-chevron-right ms-auto me-0"></i>
                  </a>
                  <div class="dropdown-menu">
                    <a href="javascript:void(0);" class="dropdown-item">
                      <span class="hstack">
                        <i
                          class="wd-10 ht-10 border border-2 border-gray-1 bg-warning rounded-circle me-2"
                        ></i>
                        <span>Always</span>
                      </span>
                    </a>
                    <a href="javascript:void(0);" class="dropdown-item">
                      <span class="hstack">
                        <i
                          class="wd-10 ht-10 border border-2 border-gray-1 bg-success rounded-circle me-2"
                        ></i>
                        <span>Active</span>
                      </span>
                    </a>
                    <a href="javascript:void(0);" class="dropdown-item">
                      <span class="hstack">
                        <i
                          class="wd-10 ht-10 border border-2 border-gray-1 bg-danger rounded-circle me-2"
                        ></i>
                        <span>Bussy</span>
                      </span>
                    </a>
                    <a href="javascript:void(0);" class="dropdown-item">
                      <span class="hstack">
                        <i
                          class="wd-10 ht-10 border border-2 border-gray-1 bg-info rounded-circle me-2"
                        ></i>
                        <span>Inactive</span>
                      </span>
                    </a>
                    <a href="javascript:void(0);" class="dropdown-item">
                      <span class="hstack">
                        <i
                          class="wd-10 ht-10 border border-2 border-gray-1 bg-dark rounded-circle me-2"
                        ></i>
                        <span>Disabled</span>
                      </span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="javascript:void(0);" class="dropdown-item">
                      <span class="hstack">
                        <i
                          class="wd-10 ht-10 border border-2 border-gray-1 bg-primary rounded-circle me-2"
                        ></i>
                        <span>Cutomization</span>
                      </span>
                    </a>
                  </div>
                </div>
                <div class="dropdown-divider"></div>
                <div class="dropdown">
                  <a
                    href="javascript:void(0);"
                    class="dropdown-item"
                    data-bs-toggle="dropdown"
                  >
                    <span class="hstack">
                      <i class="feather-dollar-sign me-2"></i>
                      <span>Subscriptions</span>
                    </span>
                    <i class="feather-chevron-right ms-auto me-0"></i>
                  </a>
                  <div class="dropdown-menu">
                    <a href="javascript:void(0);" class="dropdown-item">
                      <span class="hstack">
                        <i
                          class="wd-5 ht-5 bg-gray-500 rounded-circle me-3"
                        ></i>
                        <span>Plan</span>
                      </span>
                    </a>
                    <a href="javascript:void(0);" class="dropdown-item">
                      <span class="hstack">
                        <i
                          class="wd-5 ht-5 bg-gray-500 rounded-circle me-3"
                        ></i>
                        <span>Billings</span>
                      </span>
                    </a>
                    <a href="javascript:void(0);" class="dropdown-item">
                      <span class="hstack">
                        <i
                          class="wd-5 ht-5 bg-gray-500 rounded-circle me-3"
                        ></i>
                        <span>Referrals</span>
                      </span>
                    </a>
                    <a href="javascript:void(0);" class="dropdown-item">
                      <span class="hstack">
                        <i
                          class="wd-5 ht-5 bg-gray-500 rounded-circle me-3"
                        ></i>
                        <span>Payments</span>
                      </span>
                    </a>
                    <a href="javascript:void(0);" class="dropdown-item">
                      <span class="hstack">
                        <i
                          class="wd-5 ht-5 bg-gray-500 rounded-circle me-3"
                        ></i>
                        <span>Statements</span>
                      </span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="javascript:void(0);" class="dropdown-item">
                      <span class="hstack">
                        <i
                          class="wd-5 ht-5 bg-gray-500 rounded-circle me-3"
                        ></i>
                        <span>Subscriptions</span>
                      </span>
                    </a>
                  </div>
                </div>
                <div class="dropdown-divider"></div>
                <a href="javascript:void(0);" class="dropdown-item">
                  <i class="feather-user"></i>
                  <span>Profile Details</span>
                </a>
                <a href="javascript:void(0);" class="dropdown-item">
                  <i class="feather-activity"></i>
                  <span>Activity Feed</span>
                </a>
                <a href="javascript:void(0);" class="dropdown-item">
                  <i class="feather-dollar-sign"></i>
                  <span>Billing Details</span>
                </a>
                <a href="javascript:void(0);" class="dropdown-item">
                  <i class="feather-bell"></i>
                  <span>Notifications</span>
                </a>
                <a href="javascript:void(0);" class="dropdown-item">
                  <i class="feather-settings"></i>
                  <span>Account Settings</span>
                </a>
                <div class="dropdown-divider"></div>
                <a href="./auth-login-minimal.html" class="dropdown-item">
                  <i class="feather-log-out"></i>
                  <span>Logout</span>
                </a>
              </div>
            </div>
          </div>
        </div>
        <!--! [End] Header Right !-->
      </div>
    </header>
    <!--! ================================================================ !-->
    <!--! [End] Header !-->
    <!--! ================================================================ !-->
    <!--! ================================================================ !-->
    <!--! [Start] Main Content !-->
    <!--! ================================================================ !-->
    <main class="nxl-container">
      <div class="nxl-content">
        <!-- [ page-header ] start -->
        <div class="page-header">
          <div class="page-header-left d-flex align-items-center">
            <div class="page-header-title">
              <h5 class="m-b-10">Script Builder</h5>
            </div>
            <ul class="breadcrumb">
              <li class="breadcrumb-item"><a href="index.html">Home</a></li>
              <li class="breadcrumb-item"><a href="script.html">Scripts</a></li>
              <li class="breadcrumb-item">Script Builder</li>
            </ul>
          </div>
          <div class="page-header-right ms-auto">
            <div class="page-header-right-items">
              <div class="d-flex d-md-none">
                <a
                  href="javascript:void(0)"
                  class="page-header-right-close-toggle"
                >
                  <i class="feather-arrow-left me-2"></i>
                  <span>Back</span>
                </a>
              </div>
              <div
                class="d-flex align-items-center gap-2 page-header-right-items-wrapper"
              >
                <div
                  id="reportrange"
                  class="reportrange-picker d-flex align-items-center"
                >
                  <span class="reportrange-picker-field"></span>
                </div>
                <div class="dropdown filter-dropdown">
                  <a
                    class="btn btn-md btn-light-brand"
                    data-bs-toggle="dropdown"
                    data-bs-offset="0, 10"
                    data-bs-auto-close="outside"
                  >
                    <i class="feather-filter me-2"></i>
                    <span>Filter</span>
                  </a>
                  <div class="dropdown-menu dropdown-menu-end">
                    <div class="dropdown-item">
                      <div class="custom-control custom-checkbox">
                        <input
                          type="checkbox"
                          class="custom-control-input"
                          id="Role"
                          checked="checked"
                        />
                        <label class="custom-control-label c-pointer" for="Role"
                          >Role</label
                        >
                      </div>
                    </div>
                    <div class="dropdown-item">
                      <div class="custom-control custom-checkbox">
                        <input
                          type="checkbox"
                          class="custom-control-input"
                          id="Team"
                          checked="checked"
                        />
                        <label class="custom-control-label c-pointer" for="Team"
                          >Team</label
                        >
                      </div>
                    </div>
                    <div class="dropdown-item">
                      <div class="custom-control custom-checkbox">
                        <input
                          type="checkbox"
                          class="custom-control-input"
                          id="Email"
                          checked="checked"
                        />
                        <label
                          class="custom-control-label c-pointer"
                          for="Email"
                          >Email</label
                        >
                      </div>
                    </div>
                    <div class="dropdown-item">
                      <div class="custom-control custom-checkbox">
                        <input
                          type="checkbox"
                          class="custom-control-input"
                          id="Member"
                          checked="checked"
                        />
                        <label
                          class="custom-control-label c-pointer"
                          for="Member"
                          >Member</label
                        >
                      </div>
                    </div>
                    <div class="dropdown-item">
                      <div class="custom-control custom-checkbox">
                        <input
                          type="checkbox"
                          class="custom-control-input"
                          id="Recommendation"
                          checked="checked"
                        />
                        <label
                          class="custom-control-label c-pointer"
                          for="Recommendation"
                          >Recommendation</label
                        >
                      </div>
                    </div>
                    <div class="dropdown-divider"></div>
                    <a href="javascript:void(0);" class="dropdown-item">
                      <i class="feather-plus me-3"></i>
                      <span>Create New</span>
                    </a>
                    <a href="javascript:void(0);" class="dropdown-item">
                      <i class="feather-filter me-3"></i>
                      <span>Manage Filter</span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <div class="d-md-none d-flex align-items-center">
              <a
                href="javascript:void(0)"
                class="page-header-right-open-toggle"
              >
                <i class="feather-align-right fs-20"></i>
              </a>
            </div>
          </div>
        </div>
        <!-- [ page-header ] end -->
        <!-- [ Main Content ] start -->
        <div class="main-content">
          <!-- Top Action Bar -->
          <div class="top-bar">
            <div class="px-4 py-3">
              <div
                class="d-flex align-items-center justify-content-between mb-3"
              >
                <div class="d-flex align-items-center gap-3">
                  <h1 class="h5 mb-0 fw-bold">Script Builder</h1>
                  <span class="badge badge-outline">v1.2</span>
                  <span class="badge badge-outline" id="questionCount"
                    >10 questions</span
                  >
                  <div class="vr"></div>
                  <div class="d-flex align-items-center gap-2 text-muted small">
                    <i class="bi bi-clock"></i>
                    <span>Today at 2:34 PM</span>
                  </div>
                </div>

                <div class="d-flex align-items-center gap-2">
                  <div class="d-flex gap-1 me-2">
                    <button
                      class="btn btn-light btn-icon"
                      title="Undo (Ctrl+Z)"
                    >
                      <i class="bi bi-arrow-counterclockwise"></i>
                    </button>
                    <button
                      class="btn btn-light btn-icon"
                      title="Redo (Ctrl+Y)"
                    >
                      <i class="bi bi-arrow-clockwise"></i>
                    </button>
                  </div>

                  <button class="btn btn-outline-secondary btn-sm">
                    <i class="bi bi-eye me-2"></i>
                    Preview
                  </button>

                  <button class="btn btn-outline-secondary btn-sm">
                    <i class="bi bi-download me-2"></i>
                    Export
                  </button>

                  <button class="btn btn-outline-secondary btn-sm">
                    <i class="bi bi-clipboard me-2"></i>
                    Duplicate
                  </button>

                  <button class="btn btn-primary btn-sm">
                    <i class="bi bi-save me-2"></i>
                    Save Script
                  </button>

                  <button
                    class="btn btn-light btn-icon"
                    onclick="toggleShortcuts()"
                  >
                    <i class="bi bi-keyboard"></i>
                  </button>
                </div>
              </div>

              <div class="d-flex gap-2">
                <button
                  class="tab-btn active"
                  onclick="switchTab('editor')"
                  id="tab-editor"
                >
                  <i class="bi bi-file-text me-2"></i>
                  Editor
                </button>
                <button
                  class="tab-btn"
                  onclick="switchTab('history')"
                  id="tab-history"
                >
                  <i class="bi bi-clock-history me-2"></i>
                  History
                </button>
              </div>
            </div>
          </div>

          <!-- Keyboard Shortcuts Panel -->
          <div class="keyboard-shortcuts px-4 py-3 d-none" id="shortcuts">
            <div class="d-flex align-items-center gap-4 small">
              <div class="d-flex align-items-center gap-2">
                <kbd>Ctrl+S</kbd>
                <span>Save</span>
              </div>
              <div class="d-flex align-items-center gap-2">
                <kbd>Ctrl+Z</kbd>
                <span>Undo</span>
              </div>
              <div class="d-flex align-items-center gap-2">
                <kbd>Ctrl+P</kbd>
                <span>Preview</span>
              </div>
              <div class="d-flex align-items-center gap-2">
                <kbd>Ctrl+F</kbd>
                <span>Search</span>
              </div>
              <button
                class="btn btn-link btn-sm ms-auto p-0"
                onclick="toggleShortcuts()"
              >
                <i class="bi bi-x-lg"></i>
              </button>
            </div>
          </div>

          <!-- Content Area -->
          <div>
            <!-- Editor Tab -->
            <div id="content-editor">

              <!-- Search & Filter -->
              <div class="row my-2">
                <div class="col-md-6">
                  <div class="position-relative">
                    <i
                      class="bi bi-search position-absolute"
                      style="
                        left: 12px;
                        top: 50%;
                        transform: translateY(-50%);
                        color: #adb5bd;
                      "
                    ></i>
                    <input
                      type="text"
                      class="form-control ps-5"
                      placeholder="Search questions..."
                      id="searchInput"
                      oninput="filterQuestions()"
                    />
                  </div>
                </div>
                <div class="col-md-4">
                  <select
                    class="form-select"
                    id="typeFilter"
                    onchange="filterQuestions()"
                  >
                    <option value="all">All Types</option>
                    <option value="yesno">Yes/No</option>
                    <option value="multiple">Multiple Choice</option>
                    <option value="text">Text Input</option>
                  </select>
                </div>
                <div class="col-md-2">
                  <button
                    class="btn btn-outline-secondary w-100"
                    title="Sort questions"
                  >
                    <i class="bi bi-sort-alpha-down"></i>
                  </button>
                </div>
              </div>

              <!-- Script Card -->
              <div class="question-card">
                <!-- Card Header -->
                <div class="p-4 border-bottom">
                  <div
                    class="d-flex align-items-center justify-content-between mb-3"
                  >
                    <div class="d-flex align-items-center gap-2">
                      <span class="small text-muted fw-bold"
                        >OPENING STATEMENT</span
                      >
                      <span class="badge bg-success-subtle text-success">
                        <span
                          class="spinner-grow spinner-grow-sm me-1"
                          style="width: 8px; height: 8px"
                        ></span>
                        Active
                      </span>
                      <span class="small text-muted">
                        <i class="bi bi-people me-1"></i>
                        3 collaborators
                      </span>
                    </div>
                    <div class="d-flex gap-1">
                      <button
                        class="btn btn-light btn-icon-sm"
                        title="Script settings"
                      >
                        <i class="bi bi-gear"></i>
                      </button>
                      <button
                        class="btn btn-light btn-icon-sm"
                        title="Add description"
                      >
                        <i class="bi bi-info-circle"></i>
                      </button>
                      <button
                        class="btn btn-light btn-icon-sm text-danger"
                        title="Delete script"
                      >
                        <i class="bi bi-trash"></i>
                      </button>
                    </div>
                  </div>

                  <input
                    type="text"
                    class="form-control mb-2 fw-medium"
                    value="This is a call regarding a previously denied claim."
                    placeholder="Enter opening statement..."
                  />
                  <p class="small text-muted mb-0">
                    Additional inputs -- member ID:
                    <span class="variable-tag">{memberld}</span>, patient DOB:
                    <span class="variable-tag">{patientDateOfBirth}</span>,
                    claim charge/billed amount
                    <span class="variable-tag">{claimChargeAmount}</span>, date
                    of service:
                    <span class="variable-tag">{beginningDateOfService}</span>.
                  </p>
                </div>

                <!-- Questions Header -->
                <div class="px-4 py-3 bg-light border-bottom">
                  <div
                    class="d-flex align-items-center justify-content-between"
                  >
                    <div class="small fw-bold text-secondary">
                      QUESTIONS (<span id="visibleCount">4</span>)
                    </div>
                    <button
                      class="btn btn-outline-primary btn-sm"
                      onclick="addRootQuestion()"
                    >
                      <i class="bi bi-plus-lg me-2"></i>
                      Add Root Question
                    </button>
                  </div>
                </div>

                <!-- Questions List -->
                <div id="questionsList">
                  <!-- Questions will be rendered here -->
                </div>
              </div>
            </div>

            <!-- History Tab -->
            <div id="content-history" class="d-none">
              <div class="question-card">
                <div class="p-4 border-bottom">
                  <h6 class="fw-bold mb-0">Version History</h6>
                </div>
                <div>
                  <div class="p-4 border-bottom hover-bg-light">
                    <div
                      class="d-flex align-items-center justify-content-between"
                    >
                      <div>
                        <div class="mb-2">
                          <span class="fw-bold me-2">v1.2</span>
                          <span class="badge badge-outline">Karthik V</span>
                        </div>
                        <div class="small text-muted mb-1">
                          Today at 2:34 PM
                        </div>
                        <div class="small">
                          Added AI suggestion for denial reasons
                        </div>
                      </div>
                      <div class="d-flex gap-2">
                        <button class="btn btn-outline-secondary btn-sm">
                          View
                        </button>
                        <button class="btn btn-light btn-sm">Restore</button>
                      </div>
                    </div>
                  </div>
                  <div class="p-4 border-bottom hover-bg-light">
                    <div
                      class="d-flex align-items-center justify-content-between"
                    >
                      <div>
                        <div class="mb-2">
                          <span class="fw-bold me-2">v1.1</span>
                          <span class="badge badge-outline">Sarah M.</span>
                        </div>
                        <div class="small text-muted mb-1">
                          Yesterday at 4:12 PM
                        </div>
                        <div class="small">
                          Updated help text for multiple questions
                        </div>
                      </div>
                      <div class="d-flex gap-2">
                        <button class="btn btn-outline-secondary btn-sm">
                          View
                        </button>
                        <button class="btn btn-light btn-sm">Restore</button>
                      </div>
                    </div>
                  </div>
                  <div class="p-4 hover-bg-light">
                    <div
                      class="d-flex align-items-center justify-content-between"
                    >
                      <div>
                        <div class="mb-2">
                          <span class="fw-bold me-2">v1.0</span>
                          <span class="badge badge-outline">John D.</span>
                        </div>
                        <div class="small text-muted mb-1">Dec 28, 2025</div>
                        <div class="small">Initial script creation</div>
                      </div>
                      <div class="d-flex gap-2">
                        <button class="btn btn-outline-secondary btn-sm">
                          View
                        </button>
                        <button class="btn btn-light btn-sm">Restore</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- [ Main Content ] end -->
      </div>
      <!-- [ Footer ] start -->
      <footer class="footer justify-content-center">
        <p class="fs-11 text-muted fw-medium text-uppercase mb-0 copyright">
          <span>Copyright Â©</span>
          <script>
            document.write(new Date().getFullYear());
          </script>
          TherapyPM Voice AI
        </p>
      </footer>
      <!-- [ Footer ] end -->
    </main>
    <!--! ================================================================ !-->
    <!--! [End] Main Content !-->
    <!--! ================================================================ !-->
    <!--! ================================================================ !-->
    <!--! BEGIN: Theme Customizer !-->
    <!--! ================================================================ !-->
    <div class="theme-customizer">
      <div class="customizer-handle">
        <a href="javascript:void(0);" class="cutomizer-open-trigger bg-primary">
          <i class="feather-settings"></i>
        </a>
      </div>
      <div class="customizer-sidebar-wrapper">
        <div
          class="customizer-sidebar-header px-4 ht-80 border-bottom d-flex align-items-center justify-content-between"
        >
          <h5 class="mb-0">Theme Settings</h5>
          <a href="javascript:void(0);" class="cutomizer-close-trigger d-flex">
            <i class="feather-x"></i>
          </a>
        </div>
        <div
          class="customizer-sidebar-body position-relative p-4"
          data-scrollbar-target="#psScrollbarInit"
        >
          <!--! BEGIN: [Navigation] !-->
          <div
            class="position-relative px-3 pb-3 pt-4 mt-3 mb-5 border border-gray-2 theme-options-set"
          >
            <label
              class="py-1 px-2 fs-8 fw-bold text-uppercase text-muted text-spacing-2 bg-white border border-gray-2 position-absolute rounded-2 options-label"
              style="top: -12px"
              >Navigation</label
            >
            <div
              class="row g-2 theme-options-items app-navigation"
              id="appNavigationList"
            >
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-navigation-light"
                  name="app-navigation"
                  value="1"
                  data-app-navigation="app-navigation-light"
                  checked
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-navigation-light"
                  >Light</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-navigation-dark"
                  name="app-navigation"
                  value="2"
                  data-app-navigation="app-navigation-dark"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-navigation-dark"
                  >Dark</label
                >
              </div>
            </div>
          </div>
          <!--! END: [Navigation] !-->
          <!--! BEGIN: [Header] !-->
          <div
            class="position-relative px-3 pb-3 pt-4 mt-3 mb-5 border border-gray-2 theme-options-set mt-5"
          >
            <label
              class="py-1 px-2 fs-8 fw-bold text-uppercase text-muted text-spacing-2 bg-white border border-gray-2 position-absolute rounded-2 options-label"
              style="top: -12px"
              >Header</label
            >
            <div
              class="row g-2 theme-options-items app-header"
              id="appHeaderList"
            >
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-header-light"
                  name="app-header"
                  value="1"
                  data-app-header="app-header-light"
                  checked
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-header-light"
                  >Light</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-header-dark"
                  name="app-header"
                  value="2"
                  data-app-header="app-header-dark"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-header-dark"
                  >Dark</label
                >
              </div>
            </div>
          </div>
          <!--! END: [Header] !-->
          <!--! BEGIN: [Skins] !-->
          <div
            class="position-relative px-3 pb-3 pt-4 mt-3 mb-5 border border-gray-2 theme-options-set"
          >
            <label
              class="py-1 px-2 fs-8 fw-bold text-uppercase text-muted text-spacing-2 bg-white border border-gray-2 position-absolute rounded-2 options-label"
              style="top: -12px"
              >Skins</label
            >
            <div class="row g-2 theme-options-items app-skin" id="appSkinList">
              <div
                class="col-6 text-center position-relative single-option light-button active"
              >
                <input
                  type="radio"
                  class="btn-check"
                  id="app-skin-light"
                  name="app-skin"
                  value="1"
                  data-app-skin="app-skin-light"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-skin-light"
                  >Light</label
                >
              </div>
              <div
                class="col-6 text-center position-relative single-option dark-button"
              >
                <input
                  type="radio"
                  class="btn-check"
                  id="app-skin-dark"
                  name="app-skin"
                  value="2"
                  data-app-skin="app-skin-dark"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-skin-dark"
                  >Dark</label
                >
              </div>
            </div>
          </div>
          <!--! END: [Skins] !-->
          <!--! BEGIN: [Typography] !-->
          <div
            class="position-relative px-3 pb-3 pt-4 mt-3 mb-0 border border-gray-2 theme-options-set"
          >
            <label
              class="py-1 px-2 fs-8 fw-bold text-uppercase text-muted text-spacing-2 bg-white border border-gray-2 position-absolute rounded-2 options-label"
              style="top: -12px"
              >Typography</label
            >
            <div
              class="row g-2 theme-options-items font-family"
              id="fontFamilyList"
            >
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-lato"
                  name="font-family"
                  value="1"
                  data-font-family="app-font-family-lato"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-lato"
                  >Lato</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-rubik"
                  name="font-family"
                  value="2"
                  data-font-family="app-font-family-rubik"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-rubik"
                  >Rubik</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-inter"
                  name="font-family"
                  value="3"
                  data-font-family="app-font-family-inter"
                  checked
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-inter"
                  >Inter</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-cinzel"
                  name="font-family"
                  value="4"
                  data-font-family="app-font-family-cinzel"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-cinzel"
                  >Cinzel</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-nunito"
                  name="font-family"
                  value="6"
                  data-font-family="app-font-family-nunito"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-nunito"
                  >Nunito</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-roboto"
                  name="font-family"
                  value="7"
                  data-font-family="app-font-family-roboto"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-roboto"
                  >Roboto</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-ubuntu"
                  name="font-family"
                  value="8"
                  data-font-family="app-font-family-ubuntu"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-ubuntu"
                  >Ubuntu</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-poppins"
                  name="font-family"
                  value="9"
                  data-font-family="app-font-family-poppins"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-poppins"
                  >Poppins</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-raleway"
                  name="font-family"
                  value="10"
                  data-font-family="app-font-family-raleway"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-raleway"
                  >Raleway</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-system-ui"
                  name="font-family"
                  value="11"
                  data-font-family="app-font-family-system-ui"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-system-ui"
                  >System UI</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-noto-sans"
                  name="font-family"
                  value="12"
                  data-font-family="app-font-family-noto-sans"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-noto-sans"
                  >Noto Sans</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-fira-sans"
                  name="font-family"
                  value="13"
                  data-font-family="app-font-family-fira-sans"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-fira-sans"
                  >Fira Sans</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-work-sans"
                  name="font-family"
                  value="14"
                  data-font-family="app-font-family-work-sans"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-work-sans"
                  >Work Sans</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-open-sans"
                  name="font-family"
                  value="15"
                  data-font-family="app-font-family-open-sans"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-open-sans"
                  >Open Sans</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-maven-pro"
                  name="font-family"
                  value="16"
                  data-font-family="app-font-family-maven-pro"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-maven-pro"
                  >Maven Pro</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-quicksand"
                  name="font-family"
                  value="17"
                  data-font-family="app-font-family-quicksand"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-quicksand"
                  >Quicksand</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-montserrat"
                  name="font-family"
                  value="18"
                  data-font-family="app-font-family-montserrat"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-montserrat"
                  >Montserrat</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-josefin-sans"
                  name="font-family"
                  value="19"
                  data-font-family="app-font-family-josefin-sans"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-josefin-sans"
                  >Josefin Sans</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-ibm-plex-sans"
                  name="font-family"
                  value="20"
                  data-font-family="app-font-family-ibm-plex-sans"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-ibm-plex-sans"
                  >IBM Plex Sans</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-source-sans-pro"
                  name="font-family"
                  value="5"
                  data-font-family="app-font-family-source-sans-pro"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-source-sans-pro"
                  >Source Sans Pro</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-montserrat-alt"
                  name="font-family"
                  value="21"
                  data-font-family="app-font-family-montserrat-alt"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-montserrat-alt"
                  >Montserrat Alt</label
                >
              </div>
              <div class="col-6 text-center single-option">
                <input
                  type="radio"
                  class="btn-check"
                  id="app-font-family-roboto-slab"
                  name="font-family"
                  value="22"
                  data-font-family="app-font-family-roboto-slab"
                />
                <label
                  class="py-2 fs-9 fw-bold text-dark text-uppercase text-spacing-1 border border-gray-2 w-100 h-100 c-pointer position-relative options-label"
                  for="app-font-family-roboto-slab"
                  >Roboto Slab</label
                >
              </div>
            </div>
          </div>
          <!--! END: [Typography] !-->
        </div>
        <div
          class="customizer-sidebar-footer px-4 ht-60 border-top d-flex align-items-center gap-2"
        >
          <div class="flex-fill w-50">
            <a
              href="javascript:void(0);"
              class="btn btn-danger"
              data-style="reset-all-common-style"
              >Reset</a
            >
          </div>
          <div class="flex-fill w-50">
            <a
              href="https://www.themewagon.com/themes/Duralux-admin"
              target="_blank"
              class="btn btn-primary"
              >Download</a
            >
          </div>
        </div>
      </div>
    </div>
    <!--! ================================================================ !-->
    <!--! [End] Theme Customizer !-->
    <!--! ================================================================ !-->
    <!--! ================================================================ !-->
    <!--! Footer Script !-->
    <!--! ================================================================ !-->

    <!--! BEGIN: Vendors JS !-->
    <script src="assets/vendors/js/vendors.min.js"></script>
    <!-- vendors.min.js {always must need to be top} -->
    <script src="assets/vendors/js/daterangepicker.min.js"></script>
    <script src="assets/vendors/js/apexcharts.min.js"></script>
    <script src="assets/vendors/js/circle-progress.min.js"></script>
    <!--! END: Vendors JS !-->
    <!--! BEGIN: Apps Init  !-->
    <script src="assets/js/common-init.min.js"></script>
    <script src="assets/js/dashboard-init.min.js"></script>
    <!--! END: Apps Init !-->
    <!--! BEGIN: Theme Customizer  !-->
    <script src="assets/js/theme-customizer-init.min.js"></script>

    <script>
      // Data
      const questions = [
        {
          id: "0",
          text: "Does this claim exist for this patient?",
          type: "yesno",
          level: 0,
          isRequired: true,
        },
        {
          id: "0.1",
          text: "Was this claim denied?",
          type: "yesno",
          level: 1,
          parentId: "0",
          condition: "Yes",
          isRequired: true,
        },
        {
          id: "0.1.1",
          text: "What is the reason for denial?",
          type: "multiple",
          level: 2,
          parentId: "0.1",
          condition: "Yes",
          isRequired: true,
          aiSuggestion:
            'Consider adding "Timely Filing" as an option - it appears in 23% of calls',
          options: [
            "Prior authorization",
            "Non-covered",
            "Eligibility",
            "Provider Issue",
            "Duplicates",
            "Other / General Denial",
          ],
          helpText:
            "Prior authorization: Denial occurs when services required approval that was not obtained. Non-covered: Denial occurs when the service is excluded from the patient's benefit plan.",
        },
        {
          id: "0.1.1.9",
          text: "Please provide additional details",
          type: "text",
          level: 3,
          parentId: "0.1.1",
          condition: "Prior authorization",
        },
      ];

      let collapsedItems = new Set();
      let searchQuery = "";
      let typeFilter = "all";

      // Tab Switching
      function switchTab(tab) {
        ["editor", "history"].forEach((t) => {
          document.getElementById(`content-${t}`).classList.add("d-none");
          document.getElementById(`tab-${t}`).classList.remove("active");
        });
        document.getElementById(`content-${tab}`).classList.remove("d-none");
        document.getElementById(`tab-${tab}`).classList.add("active");
      }

      // Toggle Shortcuts
      function toggleShortcuts() {
        document.getElementById("shortcuts").classList.toggle("d-none");
      }

      // Toggle Collapse
      function toggleCollapse(id) {
        if (collapsedItems.has(id)) {
          collapsedItems.delete(id);
        } else {
          collapsedItems.add(id);
        }
        renderQuestions();
      }

      // Check if item is visible
      function isItemVisible(item) {
        if (!item.parentId) return true;
        if (collapsedItems.has(item.parentId)) return false;
        const parent = questions.find((q) => q.id === item.parentId);
        return parent ? isItemVisible(parent) : true;
      }

      // Check if has children
      function hasChildren(id) {
        return questions.some((q) => q.parentId === id);
      }

      // Get type icon
      function getTypeIcon(type) {
        switch (type) {
          case "yesno":
            return '<i class="bi bi-check-circle text-success"></i>';
          case "multiple":
            return '<i class="bi bi-list-ul text-primary"></i>';
          case "text":
            return '<i class="bi bi-input-cursor text-secondary"></i>';
          default:
            return "";
        }
      }

      // Filter Questions
      function filterQuestions() {
        searchQuery = document
          .getElementById("searchInput")
          .value.toLowerCase();
        typeFilter = document.getElementById("typeFilter").value;
        renderQuestions();
      }

      // Render Questions
      function renderQuestions() {
        const container = document.getElementById("questionsList");
        const filtered = questions.filter((q) => {
          const matchesSearch = q.text.toLowerCase().includes(searchQuery);
          const matchesType = typeFilter === "all" || q.type === typeFilter;
          return matchesSearch && matchesType && isItemVisible(q);
        });

        document.getElementById("visibleCount").textContent = filtered.length;
        document.getElementById("questionCount").textContent =
          `${questions.length} questions`;

        container.innerHTML = filtered
          .map((q) => {
            const hasChild = hasChildren(q.id);
            const isCollapsed = collapsedItems.has(q.id);
            const indent = q.level * 32;

            return `
                    <div class="question-item level-${q.level}" style="padding-left: ${24 + indent}px;">
                        <div class="py-4 pe-4">
                            <div class="d-flex align-items-start gap-3">
                                <div class="d-flex align-items-center gap-1">
                                    <button class="btn btn-link p-0 grip-handle" title="Drag to reorder">
                                        <i class="bi bi-grip-vertical"></i>
                                    </button>
                                    ${
                                      hasChild
                                        ? `
                                        <button class="collapse-btn" onclick="toggleCollapse('${q.id}')">
                                            <i class="bi bi-chevron-${isCollapsed ? "right" : "down"}"></i>
                                        </button>
                                    `
                                        : ""
                                    }
                                </div>

                                <div class="flex-grow-1">
                                    ${
                                      q.condition
                                        ? `
                                        <div class="mb-2">
                                            <span class="condition-badge border border-2" style="border-color: ${q.level === 1 ? "#a78bfa" : "#60a5fa"}; color: ${q.level === 1 ? "#a78bfa" : "#60a5fa"};">
                                                If answer is "${q.condition}"
                                            </span>
                                            <button class="btn btn-link btn-sm p-0 ms-2 small" onclick="addChildQuestion('${q.id}', '${q.condition}')">
                                                <i class="bi bi-plus-lg me-1"></i>
                                                Add question
                                            </button>
                                        </div>
                                    `
                                        : ""
                                    }

                                    ${
                                      q.level > 0
                                        ? `
                                        <div class="d-flex align-items-center gap-2 mb-2 small">
                                            <code class="text-muted">${q.id}</code>
                                            <span>${getTypeIcon(q.type)}</span>
                                            <span class="text-muted">${q.type === "yesno" ? "Yes/No" : q.type === "multiple" ? "Multiple Choice" : "Text Input"}</span>
                                            ${q.isRequired ? '<span class="badge bg-secondary">Required</span>' : ""}
                                        </div>
                                    `
                                        : ""
                                    }

                                    ${
                                      q.aiSuggestion
                                        ? `
                                        <div class="ai-suggestion-box mb-3">
                                            <div class="d-flex align-items-start gap-2">
                                                <i class="bi bi-stars text-primary"></i>
                                                <div class="flex-grow-1">
                                                    <div class="small fw-bold mb-1">Suggestion</div>
                                                    <p class="small mb-2">${q.aiSuggestion}</p>
                                                    <div class="d-flex gap-2">
                                                        <button class="btn btn-outline-primary btn-sm">Apply</button>
                                                        <button class="btn btn-link btn-sm">Dismiss</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    `
                                        : ""
                                    }

                                    ${
                                      q.helpText
                                        ? `
                                        <div class="help-text-box mb-3">
                                            <div class="d-flex align-items-start gap-2">
                                                <i class="bi bi-info-circle text-primary"></i>
                                                <div class="flex-grow-1">
                                                    <div class="small fw-bold mb-1">Agent Guidance</div>
                                                    <p class="small mb-0">${q.helpText}</p>
                                                </div>
                                            </div>
                                        </div>
                                    `
                                        : ""
                                    }

                                    <div class="d-flex align-items-center gap-3 mb-3">
                                        <input type="text" class="form-control form-control-sm flex-grow-1" value="${q.text}" placeholder="Enter question text..." oninput="updateQuestionText('${q.id}', this.value)">
                                        <select class="form-select form-select-sm" style="width: 180px;" onchange="updateQuestionType('${q.id}', this.value === 'Yes/No' ? 'yesno' : this.value === 'Multiple Choice' ? 'multiple' : 'text')">
                                            <option ${q.type === "yesno" ? "selected" : ""}>Yes/No</option>
                                            <option ${q.type === "multiple" ? "selected" : ""}>Multiple Choice</option>
                                            <option ${q.type === "text" ? "selected" : ""}>Text Input</option>
                                        </select>
                                        <div class="dropdown">
                                            <button class="btn btn-light btn-icon-sm" data-bs-toggle="dropdown">
                                                <i class="bi bi-three-dots-vertical"></i>
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li><a class="dropdown-item" href="#" onclick="deleteQuestion('${q.id}'); return false;"><i class="bi bi-trash me-2"></i>Delete</a></li>
                                            </ul>
                                        </div>
                                    </div>

                                    ${
                                      q.type === "multiple" && q.options
                                        ? `
                                        <div>
                                            <div class="d-flex align-items-center justify-content-between mb-2">
                                                <div class="small fw-bold">Answer Options</div>
                                                <button class="btn btn-link btn-sm p-0 small" onclick="addOption('${q.id}')">
                                                    <i class="bi bi-plus-lg me-1"></i>
                                                    Add Option
                                                </button>
                                            </div>
                                            <div class="d-flex flex-column gap-2">
                                                ${q.options
                                                  .map(
                                                    (opt, idx) => `
                                                    <div class="option-item p-2 d-flex align-items-center gap-2">
                                                        <i class="bi bi-grip-vertical grip-handle"></i>
                                                        <span class="small text-muted" style="width: 30px;">${idx + 1}.</span>
                                                        <input type="text" class="form-control form-control-sm border-0 flex-grow-1" value="${opt}" oninput="updateOption('${q.id}', ${idx}, this.value)">
                                                        <button class="btn btn-light btn-icon-sm" title="Add help text">
                                                            <i class="bi bi-info-circle text-muted"></i>
                                                        </button>
                                                        <button class="btn btn-link btn-icon-sm text-danger p-0" onclick="removeOption('${q.id}', ${idx})">
                                                            <i class="bi bi-x-lg"></i>
                                                        </button>
                                                    </div>
                                                `,
                                                  )
                                                  .join("")}
                                            </div>
                                        </div>
                                    `
                                        : ""
                                    }

                                    ${
                                      !q.condition &&
                                      q.level === 0 &&
                                      q.type === "yesno"
                                        ? `
                                        <div class="d-flex gap-2 mt-2">
                                            <button class="btn btn-link btn-sm p-0 small text-primary" onclick="addChildQuestion('${q.id}', 'Yes')">
                                                <i class="bi bi-plus-lg me-1"></i>
                                                Add question for "Yes"
                                            </button>
                                            <button class="btn btn-link btn-sm p-0 small text-primary" onclick="addChildQuestion('${q.id}', 'No')">
                                                <i class="bi bi-plus-lg me-1"></i>
                                                Add question for "No"
                                            </button>
                                        </div>
                                    `
                                        : ""
                                    }
                                    ${
                                      !q.condition &&
                                      q.level === 0 &&
                                      q.type === "multiple" &&
                                      q.options
                                        ? `
                                        <div class="dropdown mt-2">
                                            <button class="btn btn-link btn-sm p-0 small text-primary dropdown-toggle" data-bs-toggle="dropdown">
                                                <i class="bi bi-plus-lg me-1"></i>
                                                Add follow-up question
                                            </button>
                                            <ul class="dropdown-menu">
                                                ${q.options
                                                  .map(
                                                    (opt) => `
                                                    <li><a class="dropdown-item" href="#" onclick="addChildQuestion('${q.id}', '${opt}'); return false;">For "${opt}"</a></li>
                                                `,
                                                  )
                                                  .join("")}
                                            </ul>
                                        </div>
                                    `
                                        : ""
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                `;
          })
          .join("");
      }

      // Add Root Question
      function addRootQuestion() {
        const newId = String(questions.length);
        const newQuestion = {
          id: newId,
          text: "",
          type: "yesno",
          level: 0,
          isRequired: false,
        };
        questions.push(newQuestion);
        renderQuestions();
      }

      // Add Child Question
      function addChildQuestion(parentId, condition) {
        const parent = questions.find((q) => q.id === parentId);
        if (!parent) return;

        const siblings = questions.filter(
          (q) => q.parentId === parentId && q.condition === condition,
        );
        const newId = `${parentId}.${siblings.length}`;

        const newQuestion = {
          id: newId,
          text: "",
          type: "yesno",
          level: parent.level + 1,
          parentId: parentId,
          condition: condition,
          isRequired: false,
        };
        questions.push(newQuestion);

        // Expand parent if collapsed
        collapsedItems.delete(parentId);
        renderQuestions();
      }

      // Add Option to Multiple Choice
      function addOption(questionId) {
        const question = questions.find((q) => q.id === questionId);
        if (!question || question.type !== "multiple") return;

        if (!question.options) {
          question.options = [];
        }
        question.options.push("New option");
        renderQuestions();
      }

      // Remove Option
      function removeOption(questionId, optionIndex) {
        const question = questions.find((q) => q.id === questionId);
        if (!question || !question.options) return;

        question.options.splice(optionIndex, 1);
        renderQuestions();
      }

      // Update Question Type
      function updateQuestionType(questionId, newType) {
        const question = questions.find((q) => q.id === questionId);
        if (!question) return;

        question.type = newType;

        if (newType === "multiple" && !question.options) {
          question.options = ["Option 1", "Option 2"];
        }

        renderQuestions();
      }

      // Update Question Text
      function updateQuestionText(questionId, newText) {
        const question = questions.find((q) => q.id === questionId);
        if (!question) return;
        question.text = newText;
      }

      // Update Option
      function updateOption(questionId, optionIndex, newValue) {
        const question = questions.find((q) => q.id === questionId);
        if (!question || !question.options) return;
        question.options[optionIndex] = newValue;
      }

      // Delete Question
      function deleteQuestion(questionId) {
        if (
          !confirm(
            "Are you sure you want to delete this question and all its children?",
          )
        )
          return;

        // Find all children recursively
        const toDelete = [questionId];
        let i = 0;
        while (i < toDelete.length) {
          const children = questions
            .filter((q) => q.parentId === toDelete[i])
            .map((q) => q.id);
          toDelete.push(...children);
          i++;
        }

        // Remove all questions
        toDelete.forEach((id) => {
          const index = questions.findIndex((q) => q.id === id);
          if (index > -1) {
            questions.splice(index, 1);
          }
        });

        renderQuestions();
      }

      // Initialize
      renderQuestions();

      // Keyboard shortcuts
      document.addEventListener("keydown", function (e) {
        if (e.ctrlKey || e.metaKey) {
          if (e.key === "s") {
            e.preventDefault();
            alert("Save functionality");
          } else if (e.key === "p") {
            e.preventDefault();
            alert("Preview functionality");
          } else if (e.key === "f") {
            e.preventDefault();
            document.getElementById("searchInput").focus();
          }
        }
      });
    </script>
  </body>
</html>
